<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>StreamX Live</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>

<style>
:root{
  --bg:#020617;
  --card:#0f172a;
  --accent:#22c55e;
  --text:#e5e7eb;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,Arial;
  background:var(--bg);
  color:var(--text);
}
header{
  background:#020617;
  padding:15px;
  text-align:center;
  border-bottom:1px solid #1e293b;
}
header h1{
  margin:0;
  color:var(--accent);
}
.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}
.card{
  background:var(--card);
  padding:20px;
  border-radius:15px;
  margin-bottom:20px;
}
.card h2{
  margin-top:0;
}
video{
  width:100%;
  background:black;
  border-radius:15px;
  margin-top:10px;
}
input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:none;
  font-size:16px;
}
input{
  background:#020617;
  color:white;
  border:1px solid #1e293b;
}
button{
  background:var(--accent);
  color:black;
  font-weight:bold;
  cursor:pointer;
}
button:hover{
  opacity:.9;
}
footer{
  text-align:center;
  font-size:14px;
  opacity:.7;
  margin-top:30px;
}
.badge{
  display:inline-block;
  padding:5px 10px;
  background:#16a34a;
  border-radius:20px;
  font-size:12px;
}
</style>
</head>

<body>

<header>
  <h1>ðŸ“¡ StreamX Live</h1>
  <div class="badge">FREE LIVE STREAMING</div>
</header>

<div class="container">

  <!-- BROADCASTER -->
  <div class="card">
    <h2>ðŸŽ¥ Go Live</h2>
    <button onclick="startStream()">Start Live Stream</button>
    <input id="myId" placeholder="Your Stream ID will appear here" readonly>
  </div>

  <!-- VIEWER -->
  <div class="card">
    <h2>ðŸ‘€ Watch Live</h2>
    <input id="streamId" placeholder="Enter Stream ID">
    <button onclick="watchStream()">Watch Live</button>
  </div>

  <!-- VIDEO -->
  <div class="card">
    <h2>ðŸ”´ Live Video</h2>
    <video id="video" autoplay playsinline controls></video>
  </div>

</div>

<footer>
  StreamX Â© 2026 Â· Built with WebRTC
</footer>

<script>
let peer = new Peer();
let localStream;

peer.on('open', id => {
  document.getElementById('myId').value = id;
});

function startStream(){
  navigator.mediaDevices.getUserMedia({video:true,audio:true})
  .then(stream=>{
    localStream = stream;
    document.getElementById('video').srcObject = stream;

    peer.on('call', call=>{
      call.answer(stream);
    });
  })
  .catch(()=>{
    alert("Camera or microphone permission denied");
  });
}

function watchStream(){
  let id = document.getElementById('streamId').value;
  if(!id){ alert("Enter Stream ID"); return; }

  let call = peer.call(id, null);
  call.on('stream', stream=>{
    document.getElementById('video').srcObject = stream;
  });
}
</script>

</body>
</html>
